/*
 * util.c
 *
 *  Created on: 2018/04/13
 *      Author: shts
 */


#include "iodefine.h"
#include "util.h"

SPC spec;

void init_Spec() {
	spec.tread = 90.0;
	spec.tire_dim = 90.0;
	spec.step_dist = 0.408407;
	spec.vel_min = 200;
	spec.tar_vel_min = 250;
	/*
	 spec.sen_min_CR = 29;
	 spec.sen_min_R = 28;
	 spec.sen_min_CL = 80;
	 spec.sen_min_L = 20;

	 spec.sen_max_CR = 230;
	 spec.sen_max_R = 871;
	 spec.sen_max_CL = 800;
	 spec.sen_max_L = 990;

	 spec.sen_ref_R = 30;
	 spec.sen_ref_L = 12;
	 spec.sen_ref_wall_R = 15;
	 spec.sen_ref_wall_L = 10;
	 spec.sen_diff_threshold = 5;

	 spec.sen_ref_non_CR = 10;
	 spec.sen_ref_non_R = 10;
	 spec.sen_ref_non_CL = 20;
	 spec.sen_ref_non_L = 10;
	 */
	spec.pwm_base_clock = 6250 - 1; //(interrupt duty : 1ms(@6.25MHz))
	spec.pwm_half_clock = round((6250 - 1) / 2);
}
