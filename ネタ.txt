マイクロマウス講習会 11:51 2017/09/09
安藤	070-5568-1520

青木　センサについて　

	センサの役割；壁、ライン検知、速度、自己位置推定、UI
		静電容量式はチャタリングがない

	反射型距離センサ；フォトトランジスタは電流を流すのみ
		パルス発光必須

	フィルタ；日光・蛍光灯の成分の除去

	OPアンプ；AD変換の精度向上

		OPアンプのコンデンサ；たまるとボルテージホロワになる。
		OPアンプの抵抗；オフセット調整
	ピークホールド；AD変換にかかる時間を稼ぐもの
		LBR-127HDL；長距離が見えないのでOPアンプで2倍にする。

	横センサの傾き；車体が傾くとわからなくなる→傾ける

	光学式エンコーダ；トリガ回路に突っ込む

	磁気エンコーダ；磁石の向きに注意

	ジャイロ；i2cにはプルアップ抵抗が必要(2k)

	MPU9250；安定して速い(モータ周りにおいてもノイズ以外は問題ない)

	タクトスイッチ；対角線に使うと確実



神谷　センサを使った制御
	姿勢制御；ずれを補正
	光センサを用いた制御；PID制御
	P制御；偏差　=　（左基準値ー左現在値）－（右基準値ー左現在値）
	基準値の補正
	
	制御の注意事項；ターン中は制御壁しない

	壁がない時の姿勢制御；壁の有無の判断＋片壁の偏差を2倍にして偏差とする

	切れ目；閾値を上げる(変化量の大きさを利用)

	壁切れ補正；壁切れを認識してからどれぐらい進んでから曲がるかを決める



小川　ステッピングモータの回し方
	パルス速度；[pps]→1s当たりの入力パルス数でカウント
	脱調防止；停止→加速テーブルに従って加速
	1相励磁；コイルひとつずつ付ける
	2相励磁；コイル二つをつける
	1-2相励磁；1相と2相を交互に行う。ステップ角が半分になる

	定電圧駆動方式；定格の3から5倍かけて駆動（コイルにながれる電流は最初流れにくいため）→定格通りだと電流が足りずトルク不足になって脱調

	定電流回路；電流を監視して、電圧を制御する。

	モータの電源；LipoやLiFeが主流()

山田　ステッピングモータ講習
	ステップ距離；タイヤ直径*π*(ステップ角/360°)
	ステップ速度；速度/ステップ距離

	パルス周波数；単位時間当たりのパルス数=ステップ速度

	振動；目標角をオーバシュート・アンダーシュートしたときのハンチング
	脱調；ローターが目標角まで回る前に次のステップに移る。

	共振周波数；100から200pps付近になる→300pps以上で制御


迷路探索

	左手法；ゴール位置→終了
		左に動ける→左に曲がって進む
		前に動ける→真っ直ぐ
		右に動ける→右に曲がる


	歩数マップ；全部を255に設定
		　　ゴール地点に0を突っ込む
		　　ゴールまでの歩数をずらし、終了ステータスを偽にする
		　　スタートになるまでつづける

		　　壁がないと仮定して組む

	足立法；


高橋　マイコン小ネタ
	QFN；足に半田したうえで基板にのっけてランドを温めて固定
	STM32；マウスリオンRXで検索！